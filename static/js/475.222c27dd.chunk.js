"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[475],{7753:function(e,n,t){t.d(n,{Ai:function(){return p},Hx:function(){return d},Tg:function(){return u},Y5:function(){return l},xc:function(){return f}});var r=t(5861),a=t(4687),c=t.n(a),i=t(1044),o="https://api.themoviedb.org/3",s="332ebb0c59493b862a9beffecc6f1777",u=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(o,"/trending/movie/day?api_key=").concat(s));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(o,"/search/movie?api_key=").concat(s,"&query=").concat(n));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(o,"/movie/").concat(n,"?api_key=").concat(s));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(o,"/movie/").concat(n,"/credits?api_key=").concat(s));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(o,"/movie/").concat(n,"/reviews?api_key=").concat(s));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},3475:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,a=t(5861),c=t(885),i=t(4687),o=t.n(i),s=t(2791),u=t(6731),p=t(7689),l=t(7753),f=t(7596),d=(t(5462),t(8617)),h=t(168),v=(0,t(7691).ZP)(u.rU)(r||(r=(0,h.Z)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n"]))),x=t(184),m=function(e){var n=e.to;return(0,x.jsxs)(v,{to:n,children:[(0,x.jsx)(d.jTe,{size:"24"}),(0,x.jsx)("span",{children:"Go back"})]})},g=t(4585),w=function(){var e,n,t,r=(0,s.useState)(null),i=(0,c.Z)(r,2),d=i[0],h=i[1],v=(0,s.useState)(null),w=(0,c.Z)(v,2),j=w[0],k=w[1],b=(0,s.useState)(!1),Z=(0,c.Z)(b,2),y=Z[0],_=Z[1],P=(0,p.UO)().movieId,S=null!==(e=null===(n=(0,p.TH)().state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movie";return(0,s.useEffect)((function(){var e=new AbortController,n=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,(0,l.Y5)(P);case 4:n=e.sent,h(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k(e.t0.message);case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return n(),function(){e.abort()}}),[P]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m,{to:S}),j&&f.Am.error("Sorry, but something happened wrong: ".concat(j.message),{theme:"colored"}),d&&(0,x.jsxs)("div",{children:[d.poster_path?(0,x.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(d.poster_path),alt:d.title}):(0,x.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c2/No_image_poster.png",alt:d.title}),(0,x.jsxs)("h1",{children:[d.title," (",(t=d.release_date,new Date(t).getFullYear()),")"]}),(0,x.jsxs)("p",{children:["User Score: ",Math.round(10*d.vote_average),"%"]}),(0,x.jsx)("h2",{children:"Overview"}),(0,x.jsx)("p",{children:d.overview}),(0,x.jsx)("h2",{children:"Genres"}),(0,x.jsx)("p",{children:d.genres.map((function(e){return e.name})).join(" ")}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{children:"Additional information"}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:(0,x.jsx)(u.rU,{to:"cast",children:"Cast"})}),(0,x.jsx)("li",{children:(0,x.jsx)(u.rU,{to:"reviews",children:"Reviews"})})]})]})]}),y&&(0,x.jsx)(g.a,{}),(0,x.jsx)(p.j3,{})]})}}}]);
//# sourceMappingURL=475.222c27dd.chunk.js.map